{"ast":null,"code":"var _s = $RefreshSig$();\n//facial-rec.js\nimport { useEffect, useState } from 'react';\nimport * as faceDetection from '@tensorflow-models/face-detection';\nimport '@tensorflow/tfjs-backend-webgl';\nexport const useFaceDetector = videoRef => {\n  _s();\n  const [detector, setDetector] = useState(null);\n  useEffect(() => {\n    const loadModel = async () => {\n      const model = faceDetection.SupportedModels.MediaPipeFaceDetector;\n      const detectorConfig = {\n        runtime: 'mediapipe',\n        solutionPath: 'https://cdn.jsdelivr.net/npm/@mediapipe/face_detection'\n      };\n      const loadedDetector = await faceDetection.createDetector(model, detectorConfig);\n      setDetector(loadedDetector);\n    };\n    loadModel();\n  }, []);\n  useEffect(() => {\n    let animationFrameId;\n    const detect = async () => {\n      if (detector && videoRef.current && !videoRef.current.paused && !videoRef.current.ended) {\n        const faces = await detector.estimateFaces(videoRef.current, {\n          flipHorizontal: true\n        });\n        console.log(faces);\n        // Additional logic to handle when a user looks away could be implemented here\n      }\n      animationFrameId = requestAnimationFrame(detect);\n    };\n    detect();\n    return () => {\n      cancelAnimationFrame(animationFrameId);\n    };\n  }, [detector, videoRef]);\n  return null;\n};\n_s(useFaceDetector, \"MmNnbRgR5NXDYy9T8H0EVT3JlCE=\");","map":{"version":3,"names":["useEffect","useState","faceDetection","useFaceDetector","videoRef","_s","detector","setDetector","loadModel","model","SupportedModels","MediaPipeFaceDetector","detectorConfig","runtime","solutionPath","loadedDetector","createDetector","animationFrameId","detect","current","paused","ended","faces","estimateFaces","flipHorizontal","console","log","requestAnimationFrame","cancelAnimationFrame"],"sources":["/Users/sanskarmishra/Hackathon-2024/sera/src/facial-rec.js"],"sourcesContent":["//facial-rec.js\nimport { useEffect, useState } from 'react';\nimport * as faceDetection from '@tensorflow-models/face-detection';\nimport '@tensorflow/tfjs-backend-webgl';\n\nexport const useFaceDetector = (videoRef) => {\n    const [detector, setDetector] = useState(null);\n\n    useEffect(() => {\n        const loadModel = async () => {\n            const model = faceDetection.SupportedModels.MediaPipeFaceDetector;\n            const detectorConfig = {\n                runtime: 'mediapipe',\n                solutionPath: 'https://cdn.jsdelivr.net/npm/@mediapipe/face_detection'\n            };\n            const loadedDetector = await faceDetection.createDetector(model, detectorConfig);\n            setDetector(loadedDetector);\n        };\n\n        loadModel();\n    }, []);\n\n    useEffect(() => {\n        let animationFrameId;\n\n        const detect = async () => {\n            if (detector && videoRef.current && !videoRef.current.paused && !videoRef.current.ended) {\n                const faces = await detector.estimateFaces(videoRef.current, { flipHorizontal: true });\n                console.log(faces);\n                // Additional logic to handle when a user looks away could be implemented here\n            }\n\n            animationFrameId = requestAnimationFrame(detect);\n        };\n\n        detect();\n\n        return () => {\n            cancelAnimationFrame(animationFrameId);\n        };\n    }, [detector, videoRef]);\n\n    return null;\n};"],"mappings":";AAAA;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAO,KAAKC,aAAa,MAAM,mCAAmC;AAClE,OAAO,gCAAgC;AAEvC,OAAO,MAAMC,eAAe,GAAIC,QAAQ,IAAK;EAAAC,EAAA;EACzC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACZ,MAAMQ,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,MAAMC,KAAK,GAAGP,aAAa,CAACQ,eAAe,CAACC,qBAAqB;MACjE,MAAMC,cAAc,GAAG;QACnBC,OAAO,EAAE,WAAW;QACpBC,YAAY,EAAE;MAClB,CAAC;MACD,MAAMC,cAAc,GAAG,MAAMb,aAAa,CAACc,cAAc,CAACP,KAAK,EAAEG,cAAc,CAAC;MAChFL,WAAW,CAACQ,cAAc,CAAC;IAC/B,CAAC;IAEDP,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAENR,SAAS,CAAC,MAAM;IACZ,IAAIiB,gBAAgB;IAEpB,MAAMC,MAAM,GAAG,MAAAA,CAAA,KAAY;MACvB,IAAIZ,QAAQ,IAAIF,QAAQ,CAACe,OAAO,IAAI,CAACf,QAAQ,CAACe,OAAO,CAACC,MAAM,IAAI,CAAChB,QAAQ,CAACe,OAAO,CAACE,KAAK,EAAE;QACrF,MAAMC,KAAK,GAAG,MAAMhB,QAAQ,CAACiB,aAAa,CAACnB,QAAQ,CAACe,OAAO,EAAE;UAAEK,cAAc,EAAE;QAAK,CAAC,CAAC;QACtFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;QAClB;MACJ;MAEAL,gBAAgB,GAAGU,qBAAqB,CAACT,MAAM,CAAC;IACpD,CAAC;IAEDA,MAAM,CAAC,CAAC;IAER,OAAO,MAAM;MACTU,oBAAoB,CAACX,gBAAgB,CAAC;IAC1C,CAAC;EACL,CAAC,EAAE,CAACX,QAAQ,EAAEF,QAAQ,CAAC,CAAC;EAExB,OAAO,IAAI;AACf,CAAC;AAACC,EAAA,CAtCWF,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module"}