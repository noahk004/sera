{"ast":null,"code":"var _s = $RefreshSig$();\n//facial-rec.js\nimport { useEffect, useState } from 'react';\nimport * as faceDetection from '@tensorflow-models/face-detection';\nimport '@tensorflow/tfjs-backend-webgl';\nexport const useFaceDetector = videoRef => {\n  _s();\n  const [detector, setDetector] = useState(null);\n  useEffect(() => {\n    const loadModel = async () => {\n      const model = faceDetection.SupportedModels.MediaPipeFaceDetector;\n      const detectorConfig = {\n        runtime: 'mediapipe',\n        solutionPath: 'https://cdn.jsdelivr.net/npm/@mediapipe/face_detection'\n      };\n      const loadedDetector = await faceDetection.createDetector(model, detectorConfig);\n      setDetector(loadedDetector);\n    };\n    loadModel();\n  }, []);\n  useEffect(() => {\n    if (detector && videoRef.current) {\n      detectionInterval.current = setInterval(async () => {\n        if (videoRef.current && !videoRef.current.paused && !videoRef.current.ended) {\n          const faces = await detector.estimateFaces(videoRef.current, {\n            flipHorizontal: false\n          });\n          console.log(faces);\n          // Additional logic to handle the detected faces\n        }\n      }, 1000); // Run detection every 1000 milliseconds (1 second)\n    }\n    detect();\n    return () => {\n      cancelAnimationFrame(animationFrameId);\n    };\n  }, [detector, videoRef]);\n  return null;\n};\n_s(useFaceDetector, \"MmNnbRgR5NXDYy9T8H0EVT3JlCE=\");","map":{"version":3,"names":["useEffect","useState","faceDetection","useFaceDetector","videoRef","_s","detector","setDetector","loadModel","model","SupportedModels","MediaPipeFaceDetector","detectorConfig","runtime","solutionPath","loadedDetector","createDetector","current","detectionInterval","setInterval","paused","ended","faces","estimateFaces","flipHorizontal","console","log","detect","cancelAnimationFrame","animationFrameId"],"sources":["/Users/sanskarmishra/Hackathon-2024/sera/src/facial-rec.js"],"sourcesContent":["//facial-rec.js\nimport { useEffect, useState } from 'react';\nimport * as faceDetection from '@tensorflow-models/face-detection';\nimport '@tensorflow/tfjs-backend-webgl';\n\nexport const useFaceDetector = (videoRef) => {\n    const [detector, setDetector] = useState(null);\n\n    useEffect(() => {\n        const loadModel = async () => {\n            const model = faceDetection.SupportedModels.MediaPipeFaceDetector;\n            const detectorConfig = {\n                runtime: 'mediapipe',\n                solutionPath: 'https://cdn.jsdelivr.net/npm/@mediapipe/face_detection'\n            };\n            const loadedDetector = await faceDetection.createDetector(model, detectorConfig);\n            setDetector(loadedDetector);\n        };\n\n        loadModel();\n    }, []);\n\n    useEffect(() => {\n        if (detector && videoRef.current) {\n            detectionInterval.current = setInterval(async () => {\n                if (videoRef.current && !videoRef.current.paused && !videoRef.current.ended) {\n                    const faces = await detector.estimateFaces(videoRef.current, { flipHorizontal: false });\n                    console.log(faces);\n                    // Additional logic to handle the detected faces\n                }\n            }, 1000); // Run detection every 1000 milliseconds (1 second)\n        }\n\n        detect();\n\n        return () => {\n            cancelAnimationFrame(animationFrameId);\n        };\n    }, [detector, videoRef]);\n\n    return null;\n};"],"mappings":";AAAA;AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAO,KAAKC,aAAa,MAAM,mCAAmC;AAClE,OAAO,gCAAgC;AAEvC,OAAO,MAAMC,eAAe,GAAIC,QAAQ,IAAK;EAAAC,EAAA;EACzC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACZ,MAAMQ,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,MAAMC,KAAK,GAAGP,aAAa,CAACQ,eAAe,CAACC,qBAAqB;MACjE,MAAMC,cAAc,GAAG;QACnBC,OAAO,EAAE,WAAW;QACpBC,YAAY,EAAE;MAClB,CAAC;MACD,MAAMC,cAAc,GAAG,MAAMb,aAAa,CAACc,cAAc,CAACP,KAAK,EAAEG,cAAc,CAAC;MAChFL,WAAW,CAACQ,cAAc,CAAC;IAC/B,CAAC;IAEDP,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAENR,SAAS,CAAC,MAAM;IACZ,IAAIM,QAAQ,IAAIF,QAAQ,CAACa,OAAO,EAAE;MAC9BC,iBAAiB,CAACD,OAAO,GAAGE,WAAW,CAAC,YAAY;QAChD,IAAIf,QAAQ,CAACa,OAAO,IAAI,CAACb,QAAQ,CAACa,OAAO,CAACG,MAAM,IAAI,CAAChB,QAAQ,CAACa,OAAO,CAACI,KAAK,EAAE;UACzE,MAAMC,KAAK,GAAG,MAAMhB,QAAQ,CAACiB,aAAa,CAACnB,QAAQ,CAACa,OAAO,EAAE;YAAEO,cAAc,EAAE;UAAM,CAAC,CAAC;UACvFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;UAClB;QACJ;MACJ,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;IACd;IAEAK,MAAM,CAAC,CAAC;IAER,OAAO,MAAM;MACTC,oBAAoB,CAACC,gBAAgB,CAAC;IAC1C,CAAC;EACL,CAAC,EAAE,CAACvB,QAAQ,EAAEF,QAAQ,CAAC,CAAC;EAExB,OAAO,IAAI;AACf,CAAC;AAACC,EAAA,CApCWF,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module"}